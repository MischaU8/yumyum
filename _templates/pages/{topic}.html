{% set show_searchbar = True %}
{% extends "yumyum_base.html" %}

{% set videos = sql("""
    select * from video where topic = :topic order by upload_date desc
""", {"topic": topic}, database="yumyum")
%}

{% block title %}Plasticity videos on {{ topic|capitalize }} | Vaughan in 60 seconds{% endblock %}<!DOCTYPE html>

{% block body %}

{% if not videos %}
    {{ raise_404("No videos found") }}
{% endif %}

<h1>Plasticity videos on {{ topic|capitalize }}</h1>

{% for video in videos %}
    <h3><span class="topic">{{ video.topic }}</span> <a href="/{{ video.topic }}/{{ video.slug }}">{{ video.title }}</a> - {{ video.upload_date[:10] }}</h3>
    {{ first_paragraph(video["html"]).replace("</p>", " &#8230; </p>")|safe }}
{% endfor %}

{% endblock %}
